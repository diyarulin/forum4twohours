{{define "profile"}}
{{template "header"}}
<main class="px-3">
  <h1>Профиль пользователя</h1>
  
  <p><strong>Имя:</strong> {{.User.Name}}</p>
  <p><strong>Email:</strong> {{.User.Email}}</p>
  <p><strong>Пароль:</strong> **********</p> <!-- Скрыто звездочками -->
  
  <h2>Изменить пароль</h2>
  <form method="POST" action="/change-password">
    <label for="currentPassword">Текущий пароль:</label>
    <input type="password" id="currentPassword" name="currentPassword" required><br><br>

    <label for="newPassword">Новый пароль:</label>
    <input type="password" id="newPassword" name="newPassword" required><br><br>

    <label for="confirmPassword">Подтвердите новый пароль:</label>
    <input type="password" id="confirmPassword" name="confirmPassword" required><br><br>

    <button type="submit">Изменить пароль</button>
  </form>

  <h2>Ваши посты</h2>
  {{if .Posts}}
    <ul>
    {{range .Posts}}
      <li>
        <strong>{{.Name}}</strong> - {{.Body}} ({{.Date}})
        <a href="/edit_post?id={{.ID}}">Редактировать</a> | 
        <a href="/delete_post?id={{.ID}}">Удалить</a>
      </li>
    {{end}}
    </ul>
  {{else}}
    <p>У вас нет опубликованных постов.</p>
  {{end}}
</main>
{{template "footer"}}
{{end}}
